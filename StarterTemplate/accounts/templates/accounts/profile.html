{% extends 'accounts/base.html' %}

{% block title %}Profile - {{ user.username }}{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px;">
    <h2 class="text-center">User Profile</h2>
    
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    <div class="profile-info">
        <div class="profile-item">
            <span class="profile-label">Username:</span>
            <span class="profile-value">{{ user.username }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Email:</span>
            <span class="profile-value">{{ user.email|default:"Not provided" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">First Name:</span>
            <span class="profile-value">{{ user.first_name|default:"Not provided" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Last Name:</span>
            <span class="profile-value">{{ user.last_name|default:"Not provided" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Date Joined:</span>
            <span class="profile-value">{{ user.date_joined|date:"F d, Y" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Last Login:</span>
            <span class="profile-value">{{ user.last_login|date:"F d, Y H:i"|default:"Never" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Email Verified:</span>
            <span class="profile-value">
                {% if user.is_verified %}
                    <span style="color: #28a745;">âœ“ Verified</span>
                {% else %}
                    <span style="color: #dc3545;">âœ— Not Verified</span>
                {% endif %}
            </span>
        </div>
        <div class="profile-item">
            <span class="profile-label">Account Status:</span>
            <span class="profile-value">
                {% if user.is_active %}
                    <span style="color: #28a745;">Active</span>
                {% else %}
                    <span style="color: #dc3545;">Inactive</span>
                {% endif %}
            </span>
        </div>
    </div>
      <div style="display: flex; gap: 1rem; margin-top: 2rem;">
        <a href="{% url 'edit_profile' %}" class="btn btn-primary" style="flex: 1; text-align: center;">Edit Profile</a>
        <a href="{% url 'chat_home' %}" class="btn btn-primary" style="flex: 1; text-align: center;">ðŸ’¬ My Chats</a>
        <a href="{% url 'logout' %}" class="btn btn-secondary" style="flex: 1; text-align: center;">Logout</a>
    </div>
</div>

<style>
    .alert {
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1rem;
    }
    
    .alert-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .alert-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
    
    .profile-info {
        margin: 2rem 0;
    }
    
    .profile-item {
        display: flex;
        justify-content: space-between;
        padding: 1rem 0;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .profile-item:last-child {
        border-bottom: none;
    }
    
    .profile-label {
        font-weight: 600;
        color: #555;
    }
    
    .profile-value {
        color: #333;
    }
    
    .btn-secondary {
        background: #6c757d;
        color: white;
        padding: 0.75rem 2rem;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        transition: background 0.3s;
    }
    
    .btn-secondary:hover {
        background: #5a6268;
    }
</style>
{% endblock %}
